var Animate={getStyle:function(dom,attrName){if(dom.currentStyle){return dom.currentStyle[attrName]}else{return document.defaultView.getComputedStyle(dom,null)[attrName]}},getAllStyle:function(dom){if(dom.currentStyle){return dom.currentStyle}else{return document.defaultView.getComputedStyle(dom,null)}},setStyle:function(dom,attrName,attrvalue){dom.style[attrName]=attrvalue},move:function(dom,props,duration,callback){clearInterval(dom.timer);var that=this;dom.timer=setInterval(function(){var count=0;var propsLength=0;for(var attrName in props){var str=props[attrName].slice(-2);if(str=="px"){var attr=parseInt(that.getStyle(dom,attrName));var step=(parseInt(props[attrName])-attr)/5;step=step>0?Math.ceil(step):Math.floor(step);dom.style[attrName]=attr+step+"px";var finalvalue=that.getStyle(dom,attrName);var animationvalue=parseInt(props[attrName])+"px";if(finalvalue==animationvalue){count++}propsLength++}else{var attr=dom[attrName];var step=(parseInt(props[attrName])-attr)/5;step=step>0?Math.ceil(step):Math.floor(step);dom[attrName]=attr+step;var finalvalue=dom[attrName];var animationvalue=parseInt(props[attrName]);if(finalvalue==animationvalue){count++}propsLength++}}if(count==propsLength){clearInterval(dom.timer);if(callback){callback()}}}.bind(this),duration)}};var Enlarge={enlarge:function(dom,mag,elarea,scale){elarea.children[0].style.width=scale*dom.offsetWidth+"px";elarea.children[0].style.height=scale*dom.offsetHeight+"px";dom.onmouseover=function(){mag.style.display="block";elarea.style.display="block"};dom.onmousemove=function(event){var e=event||window.event;mag.style.left=e.clientX-mag.offsetWidth/2+"px";mag.style.top=e.clientY-mag.offsetHeight/2+"px";if(mag.offsetLeft<=0){mag.style.left=0+"px"}if(mag.offsetTop<=0){mag.style.top=0+"px"}if(mag.offsetLeft>=this.offsetWidth-mag.offsetWidth){mag.style.left=this.offsetWidth-mag.offsetWidth+"px"}if(mag.offsetTop>=this.offsetHeight-mag.offsetHeight){mag.style.top=this.offsetHeight-mag.offsetHeight+"px"}elarea.children[0].style.top=-scale*mag.offsetTop+"px";elarea.children[0].style.left=-scale*mag.offsetLeft+"px"};dom.onmouseout=function(){mag.style.display="none";elarea.style.display="none"}}};var Cookie={get:function(name,subname){var subcookies=this.getAll(name);if(subcookies){return subcookies[subname]}else{return null}},getAll:function(name){var cookiename=encodeURIComponent(name)+"=";var cookiestart=document.cookie.indexOf(cookiename);var cookieend,cookievalue,subcookies,parts=[],result={},cookies;if(cookiestart>-1){cookieend=document.cookie.indexOf(";",cookiestart);if(cookieend==-1){cookieend=document.cookie.length}cookievalue=document.cookie.slice(cookiestart+cookiename.length,cookieend);if(cookievalue.length>0){subcookies=cookievalue.split("|");for(var i=0;i<subcookies.length;i++){parts=subcookies[i].split("=");result[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return result}}return null},set:function(name,subname,value,expires,path,domain,secure){var subcookies;subcookies=this.getAll(name)||{};subcookies[subname]=value;this.setAll(name,subcookies,expires,path,domain,secure)},setAll:function(name,subcookies,expires,path,domain,secure){var subcookiesParts=[];var cookievalue=encodeURIComponent(name)+"=";var subname;for(subname in subcookies){if(subname.length>0&&subcookies.hasOwnProperty(subname)){subcookiesParts.push(encodeURIComponent(subname)+"="+encodeURIComponent(subcookies[subname]))}}if(subcookiesParts.length>0){cookievalue+=subcookiesParts.join("|");if(expires instanceof Date){cookievalue+=";expires="+expires.toUTCString()}if(path){cookievalue+=";path="+path}if(domain){cookievalue+=";domain="+domain}if(secure){cookievalue+=";secure"}}document.cookie=cookievalue},unset:function(name,subname,path,domain,secure){var subcookies=this.getAll(name);if(subcookies){delete subcookies[subname];this.setAll(name,subcookies,null,path,domain,secure)}},unsetAll:function(name,path,domain,secure){this.setAll(name,null,new Date(0),path,domain,secure)}};window.fakeStorage={data:{},setItem:function(id,value){return this.data[id]=String(value)},getItem:function(id){return this.data.hasOwnProperty(id)?this.data[id]:undefined},removeItem:function(id){return delete this.data[id]},clear:function(){return this.data={}}};function localStorageManager(){this.bestScore="bestscore";var support=this.localStorageSupport();this.storage=support?window.localStorage:window.fakeStorage}localStorageManager.prototype={localStorageSupport:function(){var testid="test";var storage=window.localStorage;try{storage.setItem(testid,"1");storage.removeItem(testid);return true}catch(error){return false}},getBestScore:function(){return this.storage.getItem(this.bestScore)||0},setBestScore:function(score){this.storage.setItem(this.bestScore,score)}};